<section style="z-index:-100">
    <div (click)="deselectStone()" class="wave wave1" style="z-index:-900"></div>
    <div (click)="deselectStone()" class="wave wave2" style="z-index:-900"></div>
    <div (click)="deselectStone()" class="wave wave3" style="z-index:-900"></div>



    <div class="ad" style="background-image: url('../../assets/{{adImages[randomImages]}}.jpg');"></div>


    <div class="gameFlex">
        <!-- <div class="infoGame">

            <div>
                PeÃ§as: 9
            </div>
            <div>
                PeÃ§as conquistas:2
            </div>
        </div> -->
        <div class="player-card player-card-oponent">
            <div class="card-oponent " [ngClass]="{'playerTurn': (!isPlayer1Move && !isMoinhoEfetuadoByPlayer1()) || isMoinhoEfetuadoByPlayer2()}"
                style="background-color: {{nivelPeca.corLadoB}};border:2px solid {{nivelPeca.corLadoB}}">

                <div class="card-body">


                    <img class="card-img-top" [class.error]="isError()" src="../../assets/{{avatar}}.png"
                        alt="Card image cap">
                    <!-- <section> -->
                    <!-- </section> -->

                    <h5 class="card-title text-center">{{jogador2.nome}} {{isThePlayer2Active?'(VocÃª)':''}}</h5>
                    <div class="peca-col">
                        <div style="font-weight: bold; font-size: 0.79rem;text-align: center;padding-bottom: 0.2rem;">
                            PeÃ§as roubadas</div>
                        <div class="npecas">

                            <div class="peca-card-oponent" style="background-color: {{nivelPeca.corLadoA}}"></div>
                            <div style="font-size: 1.1rem;">
                                x{{numeroDePecasFora(0)}}
                            </div>

                        </div>
                    </div>

                    <h5 *ngIf="(!isPlayer1Move && !isMoinhoEfetuadoByPlayer1()) || isMoinhoEfetuadoByPlayer2()" class="card-title text-center">JOGANDO</h5>

                    <div *ngIf="isThePlayer2Active"
                        style="display: flex;flex-direction: row;align-items: center;align-self: center;justify-content: center;justify-items: center;">
                        <div>
                            <button (click)="openModal('gameemoji2')" class="button"
                                style="align-self: center;width: 100%;">
                                <img src="../../assets/emoji-icon.png" style="height: 80%;">
                            </button>
                        </div>

                    </div>
                    <!-- <div class="oponent-playing" *ngIf="isPlaying">
                        <div><b>JOGANDO...</b></div>
                    </div> -->
                </div>
            </div>
        </div>
        <div id="gameBoard" style="display: block; background-color: {{nivel.corTab}};"> <!-- game board -->
            <!-- Create lines of board -->
            <div class="fieldLineHorizontal" style="width: 60vmin; transform: translate(-30vmin,-30vmin);"></div>
            <div class="fieldLineHorizontal" style="width: 40vmin; transform: translate(-20vmin,-20vmin);"></div>
            <div class="fieldLineHorizontal" style="width: 20vmin; transform: translate(-10vmin,-10vmin);"></div>
            <div class="fieldLineHorizontal" style="width: 20vmin; transform: translate(-30vmin,  0vmin);"></div>
            <div class="fieldLineHorizontal" style="width: 20vmin; transform: translate( 10vmin,  0vmin);"></div>
            <div class="fieldLineHorizontal" style="width: 20vmin; transform: translate(-10vmin, 10vmin);"></div>
            <div class="fieldLineHorizontal" style="width: 40vmin; transform: translate(-20vmin, 20vmin);"></div>
            <div class="fieldLineHorizontal" style="width: 60vmin; transform: translate(-30vmin, 30vmin);"></div>
            <div class="fieldLineVertical" style="height: 60vmin; transform: translate(-30vmin,-30vmin);"></div>
            <div class="fieldLineVertical" style="height: 40vmin; transform: translate(-20vmin,-20vmin);"></div>
            <div class="fieldLineVertical" style="height: 20vmin; transform: translate(-10vmin,-10vmin);"></div>
            <div class="fieldLineVertical" style="height: 20vmin; transform: translate(  0vmin,-30vmin);"></div>
            <div class="fieldLineVertical" style="height: 20vmin; transform: translate(  0vmin, 10vmin);"></div>
            <div class="fieldLineVertical" style="height: 20vmin; transform: translate( 10vmin,-10vmin);"></div>
            <div class="fieldLineVertical" style="height: 40vmin; transform: translate( 20vmin,-20vmin);"></div>
            <div class="fieldLineVertical" style="height: 60vmin; transform: translate( 30vmin,-30vmin);"></div>

            <div id="winnerScreen" onclick="Menu.ReturnToMenu();" style="display: none;">
                <div>
                    <span id="winnerScreenText">White wins!</span>
                    <br>
                    (Click anywhere to go to menu.)
                </div>
            </div>

            <!-- TABULEIRO -->
            <div (click)="movePeca([-3,-3])" class="field fieldMoveable"
                style="transform: translate(-30vmin, -30vmin);"></div>
            <div (click)="movePeca([0,-3])" class="field fieldMoveable" style="transform: translate(0vmin, -30vmin);">
            </div>
            <div (click)="movePeca([3,-3])" class="field fieldMoveable" style="transform: translate(30vmin, -30vmin);">
            </div>
            <div (click)="movePeca([-2,-2])" class="field fieldMoveable"
                style="transform: translate(-20vmin, -20vmin);"></div>
            <div (click)="movePeca([0,-2])" class="field fieldMoveable" style="transform: translate(0vmin, -20vmin);">
            </div>
            <div (click)="movePeca([2,-2])" class="field fieldMoveable" style="transform: translate(20vmin, -20vmin);">
            </div>
            <div (click)="movePeca([-1,-1])" class="field fieldMoveable"
                style="transform: translate(-10vmin, -10vmin);"></div>
            <div (click)="movePeca([0,-1])" class="field fieldMoveable" style="transform: translate(0vmin, -10vmin);">
            </div>
            <div (click)="movePeca([1,-1])" class="field fieldMoveable" style="transform: translate(10vmin, -10vmin);">
            </div>
            <div (click)="movePeca([-3,0])" class="field fieldMoveable" style="transform: translate(-30vmin, 0vmin);">
            </div>
            <div (click)="movePeca([-2,0])" class="field fieldMoveable" style="transform: translate(-20vmin, 0vmin);">
            </div>
            <div (click)="movePeca([-1,0])" class="field fieldMoveable" style="transform: translate(-10vmin, 0vmin);">
            </div>
            <div (click)="movePeca([1,0])" class="field fieldMoveable" style="transform: translate(10vmin, 0vmin);">
            </div>
            <div (click)="movePeca([2,0])" class="field fieldMoveable" style="transform: translate(20vmin, 0vmin);">
            </div>
            <div (click)="movePeca([3,0])" class="field fieldMoveable" style="transform: translate(30vmin, 0vmin);">
            </div>
            <div (click)="movePeca([-1,1])" class="field fieldMoveable" style="transform: translate(-10vmin, 10vmin);">
            </div>
            <div (click)="movePeca([0,1])" class="field fieldMoveable" style="transform: translate(0vmin, 10vmin);">
            </div>
            <div (click)="movePeca([1,1])" class="field fieldMoveable" style="transform: translate(10vmin, 10vmin);">
            </div>
            <div (click)="movePeca([-2,2])" class="field fieldMoveable" style="transform: translate(-20vmin, 20vmin);">
            </div>
            <div (click)="movePeca([0,2])" class="field fieldMoveable" style="transform: translate(0vmin, 20vmin);">
            </div>
            <div (click)="movePeca([2,2])" class="field fieldMoveable" style="transform: translate(20vmin, 20vmin);">
            </div>
            <div (click)="movePeca([-3,3])" class="field fieldMoveable" style="transform: translate(-30vmin, 30vmin);">
            </div>
            <div (click)="movePeca([0,3])" class="field fieldMoveable" style="transform: translate(0vmin, 30vmin);">
            </div>
            <div (click)="movePeca([3,3])" class="field fieldMoveable" style="transform: translate(30vmin, 30vmin);">
            </div>

            <!--PEÃ‡AS-->

            <!--PECA B-->
            <div [ngClass]="{'telaTravada':isMoinhoEfetuadoByPlayer2(),'stoneBlocked':!isThePlayer1Active || !isPlayer1Move,'stoneSelected': isThePlayer1Active?verificaSelecaoPeca(coordenada,0):pecaBloqueada(coordenada,0)}"
                *ngFor="let coordenada of tabuleiro[0]" (click)="stoneClick(coordenada,0)" class="stoneBlack"
                style="transform:translate({{coordenada[0]*10}}vmin, {{coordenada[1]* getMultiplicadorEixoY(coordenada)}}vmin);background-color: {{nivelPeca.corLadoA}};">
            </div>

            <!--PECA A-->
            <div [ngClass]="{'telaTravada':isMoinhoEfetuadoByPlayer1(),'stoneBlocked':!isThePlayer2Active || isPlayer1Move,'stoneSelected': isThePlayer2Active?verificaSelecaoPeca(coordenada,1):pecaBloqueada(coordenada,1)}"
                *ngFor="let coordenada of tabuleiro[1]" (click)="stoneClick2(coordenada,1)" class="stoneWhite"
                style="transform: translate({{coordenada[0]*10}}vmin, {{coordenada[1]*getMultiplicadorEixoY(coordenada)}}vmin);background-color: {{nivelPeca.corLadoB}};">
            </div>

        </div>
        <div class="infos" *ngIf="showInfo">
            {{infoTitle}}
        </div>
        <div class="player-card player-card-me">
            <div class="card-me"
            [ngClass]="{'playerTurn': (isPlayer1Move && !isMoinhoEfetuadoByPlayer2()) || isMoinhoEfetuadoByPlayer1()}"
                style="background-color: {{nivelPeca.corLadoA}};border:2px solid {{nivelPeca.corLadoA}}">

                <div class="card-body">
                    <img class="card-img-top" [class.error]="isError()" src="../../assets/{{avatar}}.png"
                        alt="Card image cap">
                    <h5 class="card-title text-center">{{jogador1.nome}} {{isThePlayer1Active?'(VocÃª)':''}} </h5>

                    <!-- <div class="timer">

                        <img class="ampulheta" src="../../assets/clock.gif">
                    </div> -->
                    <div class="peca-col">
                        <div style="font-weight: bold; font-size: 0.79rem;text-align: center;padding-bottom: 0.2rem;">
                            PeÃ§as roubadas</div>
                        <div class="npecas">

                            <div class="peca-card-oponent" style="background-color: {{nivelPeca.corLadoB}}"></div>
                            <div style="font-size: 1.1rem; ">
                                x{{numeroDePecasFora(1)}}
                            </div>

                        </div>
                    </div>

                    <h5 *ngIf="(isPlayer1Move && !isMoinhoEfetuadoByPlayer2()) || isMoinhoEfetuadoByPlayer1()" class="card-title text-center">JOGANDO</h5>
                    <div *ngIf="isThePlayer1Active"
                        style="display: flex;flex-direction: row;align-items: center;align-self: center;justify-content: center;justify-items: center;">
                        <div>
                            <button (click)="openModal('gameemoji')" class="button"
                                style="align-self: center;width: 100%;">
                                <img src="../../assets/emoji-icon.png" style="height: 80%;">
                            </button>
                        </div>

                    </div>

                </div>
            </div>
        </div>
        <!-- <div class="menuInGame">


            MENU
        </div> -->

    </div>

    <jw-modal id="game-win" class="game-win">
        <div
            style="display: flex;flex-direction: column;justify-content: center; justify-self: center;justify-items: center;align-items: center;align-self: center;align-content: center;">
            <div style="font-size: medium;"> <b>VocÃª GANHOU!</b></div>
            <div>+10 MOEDAS</div>
            <div class="win-image"></div>
        </div>
        <div style="display: flex;flex-direction: row;justify-content: space-around;">
            <button style="margin-right: 2rem;" (click)="closeModal('game-win')" class="button">ACEITAR
                REVANCHE</button>
            <button style="margin-left: 2rem;" (click)="closeModalGame('game-win')" class="button">VOLTAR</button>
        </div>
    </jw-modal>

    <jw-modal id="game-lose" class="game-lose">
        <div
            style="display: flex;flex-direction: column;justify-content: center; justify-self: center;justify-items: center;align-items: center;align-self: center;align-content: center;">
            <div style="font-size: medium;"> <b>VocÃª PERDEU!</b></div>
            <div>-{{nivel.valorDeAposta}} MOEDAS</div>
            <div class="lose-image"></div>
        </div>
        <div style="display: flex;flex-direction: row;justify-content: space-around;">
            <button style="margin-right: 2rem;" (click)="closeModal('game-lose')" class="button">PEDIR REVANCHE</button>
            <button style="margin-left: 2rem;" (click)="closeModalGame('game-lose')" class="button">VOLTAR</button>
        </div>
    </jw-modal>

    <jw-modal id="game-draw" class="game-draw">
        <div
            style="display: flex;flex-direction: column;justify-content: center; justify-self: center;justify-items: center;align-items: center;align-self: center;align-content: center;">
            <div style="font-size: medium;"> <b>EMPATE!</b></div>
            <div>+ 10 MOEDAS</div>
            <div class="draw-image"></div>
        </div>
        <div style="display: flex;flex-direction: row;justify-content: space-around;">
            <button (click)="closeModalGame('game-draw')" class="button">VOLTAR</button>
        </div>
    </jw-modal>



    <jw-modal id="gameemoji" class="modal2">
        <b>EMOJIS</b>
        <div class="flex-column-emoji">
            <div class="row-emoji">
                <div class="emoji" (click)="onEmojiClick('gameemoji','ðŸ˜‚')">
                    ðŸ˜‚
                </div>
                <div class="emoji" (click)="onEmojiClick('gameemoji','ðŸ˜­')">
                    ðŸ˜­
                </div>
                <div class="emoji" (click)="onEmojiClick('gameemoji','ðŸ˜Ž')">
                    ðŸ˜Ž
                </div>
            </div>

            <div class="row-emoji">
                <div class="emoji" (click)="onEmojiClick('gameemoji','ðŸ¤¬')">
                    ðŸ¤¬
                </div>
                <div class="emoji" (click)="onEmojiClick('gameemoji','ðŸ˜ˆ')">
                    ðŸ˜ˆ
                </div>
                <div class="emoji" (click)="onEmojiClick('gameemoji','ðŸ¤¡')">
                    ðŸ¤¡
                </div>

            </div>

            <div class="row-emoji">
                <div class="emoji" (click)="onEmojiClick('gameemoji','ðŸ’€')">
                    ðŸ’€
                </div>
                <div class="emoji" (click)="onEmojiClick('gameemoji','ðŸ–•')">
                    ðŸ–•
                </div>
                <div class="emoji" (click)="onEmojiClick('gameemoji','ðŸ¥¸')">
                    ðŸ¥¸
                </div>
            </div>
        </div>
        <button (click)="closeModal('gameemoji')" class="button">VOLTAR</button>
    </jw-modal>

    <jw-modal id="gameemoji2" class="modal22">
        <b>EMOJIS</b>
        <div class="flex-column-emoji">
            <div class="row-emoji">
                <div class="emoji" (click)="onEmojiClick('gameemoji2','ðŸ˜‚')">
                    ðŸ˜‚
                </div>
                <div class="emoji" (click)="onEmojiClick('gameemoji2','ðŸ˜­')">
                    ðŸ˜­
                </div>
                <div class="emoji" (click)="onEmojiClick('gameemoji2','ðŸ˜Ž')">
                    ðŸ˜Ž
                </div>
            </div>

            <div class="row-emoji">
                <div class="emoji" (click)="onEmojiClick('gameemoji2','ðŸ¤¬')">
                    ðŸ¤¬
                </div>
                <div class="emoji" (click)="onEmojiClick('gameemoji2','ðŸ˜ˆ')">
                    ðŸ˜ˆ
                </div>
                <div class="emoji" (click)="onEmojiClick('gameemoji2','ðŸ¤¡')">
                    ðŸ¤¡
                </div>

            </div>

            <div class="row-emoji">
                <div class="emoji" (click)="onEmojiClick('gameemoji2','ðŸ’€')">
                    ðŸ’€
                </div>
                <div class="emoji" (click)="onEmojiClick('gameemoji2','ðŸ–•')">
                    ðŸ–•
                </div>
                <div class="emoji" (click)="onEmojiClick('gameemoji2','ðŸ¥¸')">
                    ðŸ¥¸
                </div>
            </div>
        </div>
        <button (click)="closeModal('gameemoji2')" class="button">VOLTAR</button>
    </jw-modal>


    <jw-modal id="emoji-click" class="modal-emoji-player1">
        {{selectedEmoji}}
    </jw-modal>


    <jw-modal id="emoji-click2" class="modal-emoji-player2">
        {{selectedEmoji}}
    </jw-modal>



    <div class="ad2" style="background-image: url('../../assets/anuncio.jpg');"></div>
</section>